running pytest
Searching for pytest
Best match: pytest 3.7.1
Processing pytest-3.7.1-py2.7.egg

Using /Users/jacob/Documents/School/Stanford/RA/Gentzkow/gslab_make/.eggs/pytest-3.7.1-py2.7.egg
Searching for py>=1.5.0
Best match: py 1.5.4
Processing py-1.5.4-py2.7.egg

Using /Users/jacob/Documents/School/Stanford/RA/Gentzkow/gslab_make/.eggs/py-1.5.4-py2.7.egg
Searching for pluggy>=0.7
Best match: pluggy 0.7.1
Processing pluggy-0.7.1-py2.7.egg

Using /Users/jacob/Documents/School/Stanford/RA/Gentzkow/gslab_make/.eggs/pluggy-0.7.1-py2.7.egg
Searching for pathlib2>=2.2.0
Best match: pathlib2 2.3.2
Processing pathlib2-2.3.2-py2.7.egg

Using /Users/jacob/Documents/School/Stanford/RA/Gentzkow/gslab_make/.eggs/pathlib2-2.3.2-py2.7.egg
Searching for more-itertools>=4.0.0
Best match: more-itertools 4.3.0
Processing more_itertools-4.3.0-py2.7.egg

Using /Users/jacob/Documents/School/Stanford/RA/Gentzkow/gslab_make/.eggs/more_itertools-4.3.0-py2.7.egg
Searching for attrs>=17.4.0
Best match: attrs 18.1.0
Processing attrs-18.1.0-py2.7.egg

Using /Users/jacob/Documents/School/Stanford/RA/Gentzkow/gslab_make/.eggs/attrs-18.1.0-py2.7.egg
Searching for atomicwrites>=1.0
Best match: atomicwrites 1.1.5
Processing atomicwrites-1.1.5-py2.7.egg

Using /Users/jacob/Documents/School/Stanford/RA/Gentzkow/gslab_make/.eggs/atomicwrites-1.1.5-py2.7.egg
running egg_info
writing requirements to GSLab_Make.egg-info/requires.txt
writing GSLab_Make.egg-info/PKG-INFO
writing top-level names to GSLab_Make.egg-info/top_level.txt
writing dependency_links to GSLab_Make.egg-info/dependency_links.txt
reading manifest file 'GSLab_Make.egg-info/SOURCES.txt'
writing manifest file 'GSLab_Make.egg-info/SOURCES.txt'
running build_ext
============================= test session starts ==============================
platform darwin -- Python 2.7.15, pytest-3.7.1, py-1.5.4, pluggy-0.7.1
rootdir: /Users/jacob/Documents/School/Stanford/RA/Gentzkow/gslab_make, inifile:
collected 6 items

gslab_make_dev/tests/test_create_links.py F.F.FF                         [100%]

=================================== FAILURES ===================================
________________________ testCreateLinks.test_bad_list _________________________

self = <gslab_make_dev.tests.test_create_links.testCreateLinks testMethod=test_bad_list>

    def test_bad_list(self):
        with nostderrout():
>           create_links('nonexistent_list')

gslab_make_dev/tests/test_create_links.py:31: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

file_list = 'nonexistent_list', link_dir = '../input/'
makelog = '../log/make.log'

    def create_links(file_list,
                     link_dir = metadata.settings['link_dir'],
                     makelog = metadata.settings['makelog']):
        """ Create symlinks from list of files containing linking instructions.
    
        Parameters
        ----------
        file_list : list
            List of files containing linking instructions.
        link_dir : str, optional
            Directory to write symlinks. Defaults to directory specified in metadata.
        makelog : str, optional
            Path of makelog. Defaults to path specified in metadata.
    
        Returns
        -------
        link_map : list
            List of (target, symlink) for each symlink created.
        """
    
        try:
            link_list = LinksList(file_list, link_dir)
            link_map = link_list.create_symlinks()
    
            return(link_map)
    
        except Exception as error:
>           write_to_makelog("Error with create_links: \n" + error, makelog)
E           TypeError: coercing to Unicode: need string or buffer, SyntaxError found

gslab_make_dev/create_links.py:39: TypeError
_______________________ testCreateLinks.test_change_log ________________________

self = <gslab_make_dev.tests.test_create_links.testCreateLinks testMethod=test_change_log>

    def test_change_log(self):
        with nostderrout():
            end_makelog()
            newlog = '../input/new_log'
            start_makelog(makelog = newlog)
>           create_links('nonexistent_list', makelog = newlog)

gslab_make_dev/tests/test_create_links.py:63: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

file_list = 'nonexistent_list', link_dir = '../input/'
makelog = '../input/new_log'

    def create_links(file_list,
                     link_dir = metadata.settings['link_dir'],
                     makelog = metadata.settings['makelog']):
        """ Create symlinks from list of files containing linking instructions.
    
        Parameters
        ----------
        file_list : list
            List of files containing linking instructions.
        link_dir : str, optional
            Directory to write symlinks. Defaults to directory specified in metadata.
        makelog : str, optional
            Path of makelog. Defaults to path specified in metadata.
    
        Returns
        -------
        link_map : list
            List of (target, symlink) for each symlink created.
        """
    
        try:
            link_list = LinksList(file_list, link_dir)
            link_map = link_list.create_symlinks()
    
            return(link_map)
    
        except Exception as error:
>           write_to_makelog("Error with create_links: \n" + error, makelog)
E           TypeError: coercing to Unicode: need string or buffer, SyntaxError found

gslab_make_dev/create_links.py:39: TypeError
_____________________ testCreateLinks.test_multiple_lists ______________________

self = <gslab_make_dev.tests.test_create_links.testCreateLinks testMethod=test_multiple_lists>

    def test_multiple_lists(self):
        self.assertTrue(os.path.isfile('gslab_make_dev/tests/input/test_file_list.txt'))
        self.assertTrue(os.path.isfile('gslab_make_dev/tests/input/test_file_list_w_wildcard.txt'))
        self.assertTrue(os.path.isfile('gslab_make_dev/tests/input/matlab_test_script_wait1.m'))
        self.assertTrue(os.path.isfile('gslab_make_dev/tests/input/matlab_test_script_wait2.m'))
        with nostderrout():
            create_links('gslab_make_dev/tests/input/test_file_list.txt', \
>                           'gslab_make_dev/tests/input/test_file_list_w_wildcard.txt')

gslab_make_dev/tests/test_create_links.py:51: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

file_list = 'gslab_make_dev/tests/input/test_file_list.txt'
link_dir = 'gslab_make_dev/tests/input/test_file_list_w_wildcard.txt'
makelog = '../log/make.log'

    def create_links(file_list,
                     link_dir = metadata.settings['link_dir'],
                     makelog = metadata.settings['makelog']):
        """ Create symlinks from list of files containing linking instructions.
    
        Parameters
        ----------
        file_list : list
            List of files containing linking instructions.
        link_dir : str, optional
            Directory to write symlinks. Defaults to directory specified in metadata.
        makelog : str, optional
            Path of makelog. Defaults to path specified in metadata.
    
        Returns
        -------
        link_map : list
            List of (target, symlink) for each symlink created.
        """
    
        try:
            link_list = LinksList(file_list, link_dir)
            link_map = link_list.create_symlinks()
    
            return(link_map)
    
        except Exception as error:
>           write_to_makelog("Error with create_links: \n" + error, makelog)
E           TypeError: coercing to Unicode: need string or buffer, SyntaxError found

gslab_make_dev/create_links.py:39: TypeError
________________________ testCreateLinks.test_wildcard _________________________

self = <gslab_make_dev.tests.test_create_links.testCreateLinks testMethod=test_wildcard>

    def test_wildcard(self):
        self.assertTrue(os.path.isfile('gslab_make_dev/tests/input/test_file_list_w_wildcard.txt'))
        self.assertTrue(os.path.isfile('gslab_make_dev/tests/input/matlab_test_script_wait1.m'))
        self.assertTrue(os.path.isfile('gslab_make_dev/tests/input/matlab_test_script_wait2.m'))
        with nostderrout():
>           create_links('gslab_make_dev/tests/input/test_file_list_w_wildcard.txt')

gslab_make_dev/tests/test_create_links.py:39: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

file_list = 'gslab_make_dev/tests/input/test_file_list_w_wildcard.txt'
link_dir = '../input/', makelog = '../log/make.log'

    def create_links(file_list,
                     link_dir = metadata.settings['link_dir'],
                     makelog = metadata.settings['makelog']):
        """ Create symlinks from list of files containing linking instructions.
    
        Parameters
        ----------
        file_list : list
            List of files containing linking instructions.
        link_dir : str, optional
            Directory to write symlinks. Defaults to directory specified in metadata.
        makelog : str, optional
            Path of makelog. Defaults to path specified in metadata.
    
        Returns
        -------
        link_map : list
            List of (target, symlink) for each symlink created.
        """
    
        try:
            link_list = LinksList(file_list, link_dir)
            link_map = link_list.create_symlinks()
    
            return(link_map)
    
        except Exception as error:
>           write_to_makelog("Error with create_links: \n" + error, makelog)
E           TypeError: coercing to Unicode: need string or buffer, SyntaxError found

gslab_make_dev/create_links.py:39: TypeError
====================== 4 failed, 2 passed in 2.09 seconds ======================
Name                                           Stmts   Miss Branch BrPart  Cover   Missing
------------------------------------------------------------------------------------------
gslab_make_dev/create_links.py                    13      1      0      0    92%   40
gslab_make_dev/dir_mod.py                         46     22     20      3    47%   26-27, 47-55, 74, 78, 80, 104-105, 123-132, 71->74, 77->78, 79->80
gslab_make_dev/private/exceptionclasses.py        13      1      0      0    92%   12
gslab_make_dev/private/linkdirective.py          104     28     32      6    68%   64, 78-79, 93, 96-97, 100, 111-114, 141-148, 169-173, 185-186, 209-216, 63->64, 92->93, 95->96, 99->100, 110->111, 183->185
gslab_make_dev/private/messages.py                18      0      0      0   100%
gslab_make_dev/private/metadata.py                 8      0      0      0   100%
gslab_make_dev/private/programdirective.py       110     82     28      0    20%   47-52, 62-63, 72-73, 88-100, 110-118, 168-177, 187-190, 200-204, 214-215, 225-226, 244-263, 285-286, 313-317, 327-329, 339-342
gslab_make_dev/private/utility.py                 31     12      6      1    54%   45-58, 76, 75->76
gslab_make_dev/run_program.py                    124    106     14      0    13%   43-56, 87-99, 130-139, 170-179, 210-219, 250-259, 295-334, 365-374, 407-421, 446-454
gslab_make_dev/tablefill.py                      141    122     68      0     9%   13-25, 31-40, 44-47, 51-57, 61-77, 81-84, 87-115, 118-149, 152-160, 164-176, 180-182
gslab_make_dev/tablefill_info.py                   0      0      0      0   100%
gslab_make_dev/tests/nostderrout.py               12      0      2      0   100%
gslab_make_dev/tests/test_clear_dir.py             0      0      0      0   100%
gslab_make_dev/tests/test_create_links.py         67     12      6      3    79%   32, 40-42, 52-56, 64, 79-80, 73->75, 75->exit, 78->79
gslab_make_dev/tests/test_delete_files.py          0      0      0      0   100%
gslab_make_dev/tests/test_execute_command.py       0      0      0      0   100%
gslab_make_dev/tests/test_remove_path.py           0      0      0      0   100%
gslab_make_dev/tests/test_run_lyx.py               0      0      0      0   100%
gslab_make_dev/tests/test_run_mathematica.py       0      0      0      0   100%
gslab_make_dev/tests/test_run_matlab.py            0      0      0      0   100%
gslab_make_dev/tests/test_run_perl.py              0      0      0      0   100%
gslab_make_dev/tests/test_run_python.py            0      0      0      0   100%
gslab_make_dev/tests/test_run_r.py                 0      0      0      0   100%
gslab_make_dev/tests/test_run_stata.py             0      0      0      0   100%
gslab_make_dev/tests/test_tablefill.py             0      0      0      0   100%
gslab_make_dev/tests/test_textfill.py              0      0      0      0   100%
gslab_make_dev/tests/test_zip.py                   0      0      0      0   100%
gslab_make_dev/textfill.py                       135    114     60      0    11%   12-24, 31-52, 56-59, 63-72, 77-82, 85-89, 92-93, 96-101, 104-106, 110-119, 123-128, 132-162, 166-190
gslab_make_dev/textfill_info.py                    0      0      0      0   100%
gslab_make_dev/write_link_logs.py                 18     11      2      0    35%   48-54, 72-78
gslab_make_dev/write_logs.py                      92     51     24      1    36%   25-33, 60-61, 89, 93-94, 120-131, 165-173, 199-209, 231-249, 88->89
------------------------------------------------------------------------------------------
TOTAL                                            932    562    262     14    34%
