running pytest
Searching for pytest
Best match: pytest 3.7.1
Processing pytest-3.7.1-py2.7.egg

Using /Users/jacob/Documents/School/Stanford/RA/Gentzkow/gslab_make/.eggs/pytest-3.7.1-py2.7.egg
Searching for py>=1.5.0
Best match: py 1.5.4
Processing py-1.5.4-py2.7.egg

Using /Users/jacob/Documents/School/Stanford/RA/Gentzkow/gslab_make/.eggs/py-1.5.4-py2.7.egg
Searching for pluggy>=0.7
Best match: pluggy 0.7.1
Processing pluggy-0.7.1-py2.7.egg

Using /Users/jacob/Documents/School/Stanford/RA/Gentzkow/gslab_make/.eggs/pluggy-0.7.1-py2.7.egg
Searching for pathlib2>=2.2.0
Best match: pathlib2 2.3.2
Processing pathlib2-2.3.2-py2.7.egg

Using /Users/jacob/Documents/School/Stanford/RA/Gentzkow/gslab_make/.eggs/pathlib2-2.3.2-py2.7.egg
Searching for more-itertools>=4.0.0
Best match: more-itertools 4.3.0
Processing more_itertools-4.3.0-py2.7.egg

Using /Users/jacob/Documents/School/Stanford/RA/Gentzkow/gslab_make/.eggs/more_itertools-4.3.0-py2.7.egg
Searching for attrs>=17.4.0
Best match: attrs 18.1.0
Processing attrs-18.1.0-py2.7.egg

Using /Users/jacob/Documents/School/Stanford/RA/Gentzkow/gslab_make/.eggs/attrs-18.1.0-py2.7.egg
Searching for atomicwrites>=1.0
Best match: atomicwrites 1.1.5
Processing atomicwrites-1.1.5-py2.7.egg

Using /Users/jacob/Documents/School/Stanford/RA/Gentzkow/gslab_make/.eggs/atomicwrites-1.1.5-py2.7.egg
running egg_info
writing requirements to GSLab_Make.egg-info/requires.txt
writing GSLab_Make.egg-info/PKG-INFO
writing top-level names to GSLab_Make.egg-info/top_level.txt
writing dependency_links to GSLab_Make.egg-info/dependency_links.txt
reading manifest file 'GSLab_Make.egg-info/SOURCES.txt'
writing manifest file 'GSLab_Make.egg-info/SOURCES.txt'
running build_ext
============================= test session starts ==============================
platform darwin -- Python 2.7.15, pytest-3.7.1, py-1.5.4, pluggy-0.7.1
rootdir: /Users/jacob/Documents/School/Stanford/RA/Gentzkow/gslab_make, inifile:
collected 20 items

gslab_make_dev/tests/test_clear_dirs.py FF.                              [ 15%]
gslab_make_dev/tests/test_delete_files.py ...                            [ 30%]
gslab_make_dev/tests/test_tablefill.py ....                              [ 50%]
gslab_make_dev/tests/test_textfill.py ........                           [ 90%]
gslab_make_dev/tests/test_zip.py ..                                      [100%]

=================================== FAILURES ===================================
______________________ testClearDirs.test_already_exists _______________________

self = <gslab_make_dev.tests.test_clear_dirs.testClearDirs testMethod=test_already_exists>

    def test_already_exists(self):
        os.makedirs('./output_local_empty/')
    
        with nostderrout():
>           clear_dirs('./output_local_empty/')

gslab_make_dev/tests/test_clear_dirs.py:25: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
gslab_make_dev/dir_mod.py:218: in clear_dirs
    remove_dir(dir)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

pathname = './output_local_empty', options = '@DEFAULTVALUE@'

    def remove_dir(pathname, options = '@DEFAULTVALUE@'):
        """Remove a directory
    
        This function completely removes the directory specified by `pathname`
        using the 'rmdir' command on Windows platforms and the 'rm' command
        on Unix platforms. This is useful for removing symlinks without
        deleting the source files or directory.
        """
    
        if os.name == 'posix':
            os_command = 'rmdirunix'
            if pathname[-1] == '/':
                pathname = pathname[0:-1]
        else:
            os_command = 'rmdirwin'
    
>       command = metadata.commands[os_command]
E       KeyError: 'rmdirunix'

gslab_make_dev/dir_mod.py:50: KeyError
_________________ testClearDirs.test_already_exists_with_files _________________

self = <gslab_make_dev.tests.test_clear_dirs.testClearDirs testMethod=test_already_exists_with_files>

    def test_already_exists_with_files(self):
        os.makedirs('./output_local_files/')
        newfile = open('./output_local_files/text.txt', 'w+')
        newfile.write('test')
        newfile.close()
        file_list = os.listdir('./output_local_files/')
        self.assertEqual(len(file_list), 1)
    
        with nostderrout():
>           clear_dirs('./output_local_files/')

gslab_make_dev/tests/test_clear_dirs.py:40: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
gslab_make_dev/dir_mod.py:218: in clear_dirs
    remove_dir(dir)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

pathname = './output_local_files', options = '@DEFAULTVALUE@'

    def remove_dir(pathname, options = '@DEFAULTVALUE@'):
        """Remove a directory
    
        This function completely removes the directory specified by `pathname`
        using the 'rmdir' command on Windows platforms and the 'rm' command
        on Unix platforms. This is useful for removing symlinks without
        deleting the source files or directory.
        """
    
        if os.name == 'posix':
            os_command = 'rmdirunix'
            if pathname[-1] == '/':
                pathname = pathname[0:-1]
        else:
            os_command = 'rmdirwin'
    
>       command = metadata.commands[os_command]
E       KeyError: 'rmdirunix'

gslab_make_dev/dir_mod.py:50: KeyError
===================== 2 failed, 18 passed in 0.62 seconds ======================
Name                                                Stmts   Miss Branch BrPart  Cover   Missing
-----------------------------------------------------------------------------------------------
gslab_make_dev/_tests.py                                9      9      0      0     0%   2-18
gslab_make_dev/dir_mod.py                             143     98     62      2    28%   48, 51-54, 69-145, 159-205, 43->48, 45->50
gslab_make_dev/make_link_logs.py                       36     28     16      0    15%   61-75, 86-106
gslab_make_dev/make_links.py                           18     12      4      0    27%   60-78
gslab_make_dev/make_log.py                            166    146     66      0     9%   35-63, 77-100, 113-128, 146-172, 191-217, 250-262, 279-297, 313-345
gslab_make_dev/private/exceptionclasses.py             11      2      0      0    82%   5, 8
gslab_make_dev/private/linkdirectives.py              108     92     56      0    10%   14-34, 39-44, 48-49, 53-62, 66-87, 90-102, 106-114, 117-140, 144-157
gslab_make_dev/private/linkdirectives_refactor.py     108    108     56      0     0%   3-157
gslab_make_dev/private/linkslist.py                    55     46     30      0    11%   13-42, 45-49, 52-70
gslab_make_dev/private/linkslist_refactor.py           19     19      2      0     0%   3-32
gslab_make_dev/private/messages.py                     26      0      0      0   100%
gslab_make_dev/private/metadata.py                      6      0      0      0   100%
gslab_make_dev/private/preliminaries.py                98     80     36      0    13%   17-26, 29-38, 43-56, 60-64, 67-72, 81-90, 97-113, 120-141, 144-146
gslab_make_dev/private/preliminaries_refactor.py       43     43      8      0     0%   3-65
gslab_make_dev/private/runprogramdirective.py         101     77     26      0    19%   18-22, 25-26, 29-30, 33-45, 48-56, 69-78, 81-84, 87-91, 94-95, 98-99, 106-125, 134-135, 145-148, 151-154
gslab_make_dev/refactor_tests.py                        9      9      0      0     0%   2-18
gslab_make_dev/run_program.py                         112     95     14      0    13%   15-27, 32-43, 48-56, 61-69, 74-82, 87-95, 100-137, 142-150, 155-168, 173-180
gslab_make_dev/tablefill.py                           141      5     68     10    93%   53, 105, 138, 171, 174, 32->35, 35->37, 52->53, 83->exit, 91->88, 104->105, 122->119, 137->138, 167->171, 173->174
gslab_make_dev/tablefill_info.py                        0      0      0      0   100%
gslab_make_dev/tests/nostderrout.py                    12      0      2      0   100%
gslab_make_dev/tests/test_clear_dirs.py                41      8      8      1    82%   27-29, 42-44, 55-56, 54->55
gslab_make_dev/tests/test_delete_files.py              46      2      4      2    92%   55-56, 51->exit, 54->55
gslab_make_dev/tests/test_tablefill.py                 97      2     42      6    94%   145-146, 22->exit, 39->36, 59->45, 76->exit, 140->exit, 144->145
gslab_make_dev/tests/test_textfill.py                  84      2     12      3    95%   139-140, 18->exit, 134->exit, 138->139
gslab_make_dev/tests/test_zip.py                       36      2      4      2    90%   46-47, 42->exit, 45->46
gslab_make_dev/textfill.py                            135      2     60      5    96%   44, 170, 32->35, 35->37, 43->44, 100->exit, 169->170
gslab_make_dev/textfill_info.py                         0      0      0      0   100%
-----------------------------------------------------------------------------------------------
TOTAL                                                1660    887    576     31    43%
